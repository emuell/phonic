:root {
	/* Core Colors */
	--bg-main: #121212;
	--bg-panel: #181818;
	--bg-card: #252525;
	--bg-input: #2c2c2c;
	--bg-chain: #181818;

	/* Text Colors */
	--text-main: #e0e0e0;
	--text-heading: #ffffff;
	--text-secondary: #b0b0b0;
	--text-muted: #555555;
	--text-label: #aaaaaa;
	--text-link: #64b5f6;
	--text-log: #00ff00;

	/* Border Colors */
	--border-main: #222222;
	--border-input: #444444;
	--border-hover: #666666;
	--border-disabled: #222222;

	/* Primary Accent Colors */
	--primary: #cc53c4;
	--primary-hover: #d870d1;
	--primary-active: #a3429d;

	/* State Colors */
	--disabled-bg: #1a1a1a;
	--disabled-text: #555555;

	--status-error-bg: #442222;
	--status-error-text: #ff8888;
	--status-success-bg: #224422;
	--status-success-text: #88ff88;

	/* UI Specific */
	--btn-remove: #777777;
	--btn-remove-hover: #ff5252;

	/* Piano Keys */
	--key-label: #a2a2a2;
	--key-label-on-white: #555555;
	--key-label-on-black: #888888;
	--key-border: #000000;

	--key-black-start: #222222;
	--key-black-end: #000000;
	--key-black-active-start: #000000;
	--key-black-active-end: #333333;

	--key-white-start: #ffffff;
	--key-white-end: #e0e0e0;
	--key-white-active-start: #cccccc;
	--key-white-active-end: #bbbbbb;

	/* Effect Type Colors */
	--eff-reverb: #9c27b0;
	--eff-chorus: #2196f3;
	--eff-filter: #ff9800;
	--eff-distortion: #f44336;
	--eff-gain: #4caf50;
	--eff-eq5: #e91e63;
	--eff-compressor: #00bcd4;
	--eff-dcfilter: #9e9e9e;
}

/* Scrollbar Styling */
::-webkit-scrollbar {
	width: 12px;
	height: 12px;
}

::-webkit-scrollbar-track {
	background: var(--bg-main);
}

::-webkit-scrollbar-thumb {
	background-color: var(--border-input);
	border-radius: 6px;
	border: 3px solid var(--bg-main);
}

::-webkit-scrollbar-thumb:hover {
	background-color: var(--border-hover);
}

/* Firefox Scrollbar */
* {
	scrollbar-width: thin;
	scrollbar-color: var(--border-input) var(--bg-main);
}

body {
	font-family:
		system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
		Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
	max-width: 800px;
	margin: 0 auto;
	padding: 20px;
	line-height: 1.4;
	background-color: var(--bg-main);
	color: var(--text-main);
}

h1 {
	color: var(--text-heading);
	border-bottom: 1px solid var(--border-main);
	padding-bottom: 10px;
}

p {
	margin: 20px 20px 0px 0px;
	color: var(--text-secondary);
}

a {
	color: var(--text-link);
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

button {
	background-color: var(--primary);
	border: 1px solid var(--primary);
	color: white;
	padding: 10px 15px;
	text-align: center;
	text-decoration: none;
	display: inline-block;
	font-size: 14px;
	margin: 4px 2px;
	cursor: pointer;
	border-radius: 4px;
	transition:
		background-color 0.2s,
		border-color 0.2s;
}

button:hover:not(:disabled) {
	background-color: var(--primary-hover);
	border-color: var(--primary-hover);
}

button:active:not(:disabled) {
	background-color: var(--primary-active);
	border-color: var(--primary-active);
}

button:disabled {
	background-color: var(--disabled-bg);
	color: var(--disabled-text);
	border-color: var(--disabled-border);
	cursor: not-allowed;
}

select {
	background-color: var(--bg-input);
	color: white;
	border: 1px solid var(--border-input);
	padding: 9px 15px;
	border-radius: 4px;
	font-size: 14px;
	margin: 4px 2px;
	outline: none;
}

select:disabled {
	background-color: var(--disabled-bg);
	color: var(--disabled-text);
	border-color: var(--disabled-border);
}

.header {
	display: flex;
	justify-content: space-between;
	align-items: end;
	gap: 1rem;
	flex-direction: row;
	color: var(--text-heading);
	border-bottom: 4px solid var(--primary);
	padding-bottom: 10px;
}

.header > #first {
	font-size: 2rem;
	color: var(--text-heading);
}
.header > #second {
	font-size: 1rem;
	color: var(--text-muted);
	padding-bottom: 0.25rem;
}

.controls {
	display: flex;
	align-items: center;
	margin-top: 20px;
}

.controls > button {
	min-width: 100px;
}

.checkbox-container {
	display: flex;
	align-items: center;
	margin-left: 15px;
	color: var(--text-secondary);
	font-size: 14px;
	cursor: pointer;
	user-select: none;
}

.checkbox-container input {
	margin-right: 8px;
	accent-color: var(--primary);
	width: 16px;
	height: 16px;
	cursor: pointer;
}

.checkbox-container input:disabled {
	cursor: not-allowed;
	opacity: 0.5;
}

.cpu-display {
	margin-left: auto;
	font-family: monospace;
	color: var(--primary);
}

.status {
	margin: 20px 0;
	padding: 10px;
	border-radius: 4px;
	background-color: var(--bg-panel);
	border: 1px solid var(--border-main);
	color: var(--text-main);
}

.log {
	height: 150px;
	overflow-y: auto;
	background-color: var(--bg-panel);
	padding: 10px;
	border: 1px solid var(--border-main);
	font-family: "Consolas", "Monaco", monospace;
	font-size: 12px;
	white-space: pre-wrap;
	margin-top: 20px;
	color: var(--text-log);
	border-radius: 4px;
}

.piano-wrapper {
	border-radius: 4px;
	background-color: var(--bg-panel);
	padding: 10px;
	margin-top: 20px;
	border: 1px solid var(--border-main);
	display: flex;
	flex-direction: column;
	align-items: center;
}

.piano-controls {
	display: flex;
	align-items: center;
	gap: 10px;
	margin-bottom: 5px;
	color: var(--text-secondary);
	font-size: 14px;
}

.piano-controls button {
	padding: 4px 8px;
	font-size: 12px;
	min-width: 20px;
	border: none;
}

.piano-keys {
	display: flex;
	padding: 0px;
	margin: 0;
	position: relative;
}

.piano-keys .key {
	cursor: pointer;
	list-style: none;
	color: var(--key-label);
	text-transform: uppercase;
	position: relative;
	user-select: none;
}

.piano-keys .black {
	width: 40px;
	height: 100px;
	z-index: 2;
	margin: 0 -20px 0 -20px;
	border-radius: 0 0 3px 3px;
	background: linear-gradient(
		to bottom,
		var(--key-black-start),
		var(--key-black-end)
	);
	border: 1px solid var(--key-border);
}

.piano-keys .black.active {
	background: linear-gradient(
		to bottom,
		var(--key-black-active-start),
		var(--key-black-active-end)
	);
	box-shadow: 0 0 5px var(--primary);
}

.piano-keys .white {
	width: 50px;
	height: 160px;
	border-radius: 0 0 4px 4px;
	border: 1px solid var(--key-border);
	background: linear-gradient(
		to bottom,
		var(--key-white-start) 0%,
		var(--key-white-end) 100%
	);
	z-index: 1;
}

.piano-keys .white.active {
	background: linear-gradient(
		to bottom,
		var(--key-white-active-start) 0%,
		var(--key-white-active-end) 100%
	);
	box-shadow: 0 0 5px var(--primary);
}

.piano-keys span {
	position: absolute;
	bottom: 10px;
	width: 100%;
	text-align: center;
	font-size: 0.8rem;
	color: var(--key-label-on-white);
	pointer-events: none;
}

.piano-keys .black span {
	color: var(--key-label-on-black);
	bottom: 15px;
}

.synth-controls {
	display: flex;
	align-items: center;
	margin-top: 20px;
	gap: 5px;
}

.synth-controls > button {
	min-width: 100px;
}
.synth-controls > select {
	min-width: 100px;
}

.synth-parameters {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
	gap: 15px;
	padding: 15px;
	background-color: var(--bg-panel);
	border-radius: 8px;
	border: 1px solid var(--border-main);
	margin-top: 20px;
}

.synth-parameters.hidden {
	display: none;
}

.effects-section {
	margin: 20px 0;
	padding: 10px;
	background-color: var(--bg-panel);
	border-radius: 8px;
	border: 1px solid var(--border-main);
}

.add-effect-menu {
	display: flex;
	gap: 10px;
	flex-wrap: wrap;
	margin-bottom: 15px;
}

.add-effect-menu button {
	font-size: 13px;
	padding: 6px 12px;
}

.add-effect-menu button:hover:not(:disabled) {
	background-color: var(--border-input);
	border-color: var(--btn-remove);
}

.effects-chain {
	display: flex;
	flex-wrap: wrap;
	gap: 15px;
	min-height: 120px;
	border-radius: 8px;
}

.effects-chain .empty-message {
	color: var(--text-muted);
	font-style: italic;
	margin: auto;
	text-align: center;
}

.effect-card {
	background: var(--bg-card);
	border: 1px solid var(--border-input);
	border-radius: 6px;
	padding: 15px;
	width: 216px;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
	transition:
		transform 0.2s,
		box-shadow 0.2s;
}

.effect-card:hover {
	box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
	border-color: var(--border-hover);
}

/* Colored top borders for effect types */
.effect-card.reverb {
	border-top: 3px solid var(--eff-reverb);
}
.effect-card.chorus {
	border-top: 3px solid var(--eff-chorus);
}
.effect-card.filter {
	border-top: 3px solid var(--eff-filter);
}
.effect-card.distortion {
	border-top: 3px solid var(--eff-distortion);
}
.effect-card.gain {
	border-top: 3px solid var(--eff-gain);
}
.effect-card.eq5 {
	border-top: 3px solid var(--eff-eq5);
}
.effect-card.compressor {
	border-top: 3px solid var(--eff-compressor);
}
.effect-card.dcfilter {
	border-top: 3px solid var(--eff-dcfilter);
}

.effect-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 15px;
	padding-bottom: 10px;
	border-bottom: 1px solid var(--border-main);
}

.effect-name {
	font-weight: bold;
	font-size: 14px;
	color: var(--text-main);
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.remove-btn {
	background: transparent;
	color: var(--btn-remove);
	border: 1px solid var(--border-input);
	border-radius: 4px;
	width: 24px;
	height: 24px;
	cursor: pointer;
	font-size: 16px;
	line-height: 1;
	padding: 0;
	display: flex;
	align-items: center;
	justify-content: center;
}

.remove-btn:hover {
	background: var(--border-main);
	color: var(--btn-remove-hover);
	border-color: var(--btn-remove-hover);
}

.effect-parameters {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.parameter-control {
	display: flex;
	flex-direction: column;
	gap: 6px;
}

.parameter-control label {
	display: flex;
	justify-content: space-between;
	font-size: 12px;
	color: var(--text-label);
	font-weight: 500;
}

.param-value {
	color: var(--primary);
	font-family: monospace;
}

.param-value-editor {
	margin: -4px 0px;
	padding: 4px 0px;
	width: 50%;
	font-size: 12px;
	color: var(--primary);
	font-family: monospace;
	text-align: right;
	background-color: var(--bg-input);
	border: 1px solid var(--primary);
	border-radius: 3px;
	outline: none;
}

.parameter-control input[type="range"] {
	appearance: none;
	-webkit-appearance: none;
	width: 100%;
	height: 4px;
	border-radius: 2px;
	background: var(--border-input);
	outline: none;
}

.parameter-control input[type="range"]::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	width: 14px;
	height: 14px;
	border-radius: 50%;
	background: var(--primary);
	cursor: pointer;
	transition: background 0.15s;
}

.parameter-control input[type="range"]::-webkit-slider-thumb:hover {
	background: #fff;
	transform: scale(1.1);
}

.parameter-control input[type="range"]::-moz-range-thumb {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	background: var(--primary);
	cursor: pointer;
	border: none;
	transition: background 0.15s;
}

.parameter-control input[type="range"]::-moz-range-thumb:hover {
	background: #fff;
	transform: scale(1.1);
}

.parameter-control input[type="checkbox"] {
	accent-color: var(--primary);
	width: 16px;
	height: 16px;
	cursor: pointer;
}

.parameter-control select {
	width: 100%;
	background-color: var(--border-main);
	border: 1px solid var(--text-muted);
	color: var(--text-main);
	padding: 4px 8px;
	font-size: 12px;
}
